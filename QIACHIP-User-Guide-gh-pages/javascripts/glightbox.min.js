document.addEventListener("DOMContentLoaded", function() {
  // 获取所有图片链接
  var imageLinks = document.querySelectorAll("a[href$='.png'], a[href$='.jpg'], a[href$='.jpeg'], a[href$='.gif']");
  
  // 为每个图片链接添加点击事件
  imageLinks.forEach(function(link) {
    link.addEventListener("click", function(e) {
      e.preventDefault();
      
      // 创建遮罩层
      var overlay = document.createElement("div");
      overlay.style.position = "fixed";
      overlay.style.top = "0";
      overlay.style.left = "0";
      overlay.style.width = "100%";
      overlay.style.height = "100%";
      overlay.style.backgroundColor = "rgba(0,0,0,0.9)";
      overlay.style.display = "flex";
      overlay.style.alignItems = "center";
      overlay.style.justifyContent = "center";
      overlay.style.zIndex = "9999";
      
      // 创建图片元素
      var img = document.createElement("img");
      img.src = this.href;
      img.style.maxWidth = "90%";
      img.style.maxHeight = "90%";
      img.style.objectFit = "contain";
      
      // 点击遮罩层关闭
      overlay.addEventListener("click", function() {
        document.body.removeChild(overlay);
      });
      
      // 添加到页面
      overlay.appendChild(img);
      document.body.appendChild(overlay);
    });
  });
});